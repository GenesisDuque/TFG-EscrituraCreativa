{"ast":null,"code":"\"use strict\";\n\nclass modelUsuario {\n  constructor(pool) {\n    this.pool = pool;\n  }\n\n  getUsuariosByGrupo(idGrupo, callback) {\n    this.pool.getConnection(function (err, connection) {\n      if (err) {\n        callback(new Error(\"No se puede conectar a la base de datos.\"));\n      } else {\n        const sql = \"SELECT * FROM usuario INNER JOIN grupoestudiante ON usuario.id = grupoestudiante.idEstudiante WHERE grupoestudiante.idGrupo = ?;\";\n        const valores = [idGrupo];\n        connection.query(sql, valores, function (err, res) {\n          connection.release();\n\n          if (err) {\n            callback(new Error(\"Error al buscar usuarios en el grupo \" + idGrupo + \".\"));\n          } else {\n            callback(null, res);\n          }\n        });\n      }\n    });\n  }\n\n}","map":{"version":3,"sources":["D:/UCM/TFG/codigo/TFG-EscrituraCreativa/src/models/modelUsuario.js"],"names":["modelUsuario","constructor","pool","getUsuariosByGrupo","idGrupo","callback","getConnection","err","connection","Error","sql","valores","query","res","release"],"mappings":"AAAA;;AAEA,MAAMA,YAAN,CAAmB;AACfC,EAAAA,WAAW,CAACC,IAAD,EAAO;AACd,SAAKA,IAAL,GAAYA,IAAZ;AACH;;AAEDC,EAAAA,kBAAkB,CAACC,OAAD,EAAUC,QAAV,EAAoB;AAClC,SAAKH,IAAL,CAAUI,aAAV,CAAwB,UAASC,GAAT,EAAcC,UAAd,EAA0B;AAC9C,UAAID,GAAJ,EAAS;AACLF,QAAAA,QAAQ,CAAC,IAAII,KAAJ,CAAU,0CAAV,CAAD,CAAR;AACH,OAFD,MAEO;AACH,cAAMC,GAAG,GAAG,kIAAZ;AACA,cAAMC,OAAO,GAAG,CAACP,OAAD,CAAhB;AACAI,QAAAA,UAAU,CAACI,KAAX,CAAiBF,GAAjB,EAAsBC,OAAtB,EAA+B,UAASJ,GAAT,EAAcM,GAAd,EAAmB;AAC9CL,UAAAA,UAAU,CAACM,OAAX;;AACA,cAAIP,GAAJ,EAAS;AACLF,YAAAA,QAAQ,CAAC,IAAII,KAAJ,CAAU,0CAA0CL,OAA1C,GAAoD,GAA9D,CAAD,CAAR;AACH,WAFD,MAEO;AACHC,YAAAA,QAAQ,CAAC,IAAD,EAAOQ,GAAP,CAAR;AACH;AACJ,SAPD;AAQH;AACJ,KAfD;AAgBH;;AAtBc","sourcesContent":["\"use strict\";\r\n\r\nclass modelUsuario {\r\n    constructor(pool) {\r\n        this.pool = pool;\r\n    }\r\n\r\n    getUsuariosByGrupo(idGrupo, callback) {\r\n        this.pool.getConnection(function(err, connection) {\r\n            if (err) {\r\n                callback(new Error(\"No se puede conectar a la base de datos.\"))\r\n            } else {\r\n                const sql = \"SELECT * FROM usuario INNER JOIN grupoestudiante ON usuario.id = grupoestudiante.idEstudiante WHERE grupoestudiante.idGrupo = ?;\";\r\n                const valores = [idGrupo];\r\n                connection.query(sql, valores, function(err, res) {\r\n                    connection.release();\r\n                    if (err) {\r\n                        callback(new Error(\"Error al buscar usuarios en el grupo \" + idGrupo + \".\"));\r\n                    } else {\r\n                        callback(null, res);\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}"]},"metadata":{},"sourceType":"module"}